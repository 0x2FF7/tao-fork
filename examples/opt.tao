import "lib/core.tao"

data Result A, E =
    | Ok A
    \ Err E

def f A : A -> A =
    \ x => let x = Ok x in
        match x in
        | Ok x => x
        \ Err x => x

$[main]
def main =
    let x = Ok 5 in
    match x in
    | Ok x => x
    \ Err x => x
